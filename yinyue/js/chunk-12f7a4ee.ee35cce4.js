(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12f7a4ee"],{"04a0":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mv-content"},[s("div",{staticClass:"mv-wrap"},[s("h3",{staticClass:"title"},[t._v("mv详情")]),s("div",{staticClass:"video-wrap"},[s("video",{attrs:{controls:"",src:t.mvUrl,autoplay:"",preload:"auto"}})]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"singer-info"},[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{src:t.artistCover,alt:""}})]),s("span",{staticClass:"name"},[t._v(t._s(t.artistName))])]),s("div",{staticClass:"mv-info"},[s("h2",{staticClass:"title"},[t._v(t._s(t.mvName))]),s("span",{staticClass:"date"},[t._v("发布："+t._s(t.publishTime))]),s("span",{staticClass:"number"},[t._v("播放："+t._s(t._f("formatCount")(t.playCount))+"次")]),s("p",{staticClass:"desc"},[t._v(t._s(t.desc))])])]),0!=t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 热门评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),t._l(t.hotComments,(function(a){return s("div",{key:a.commentId,staticClass:"comments-wrap"},[s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(a.time)))])])])])}))],2):t._e(),0!=t.comments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a){return s("div",{key:a.commentId,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0)]):t._e(),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.limit},on:{"current-change":t.handleCurrentChange}})],1),s("div",{staticClass:"mv-recommend"},[s("h3",{staticClass:"title"},[t._v("相关推荐")]),s("div",{staticClass:"mvs"},t._l(t.simiMV,(function(a){return s("div",{key:a.id,staticClass:"items"},[s("div",{staticClass:"item",on:{click:function(s){return t.toMV(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("span",{staticClass:"iconfont icon-play el-icon-video-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(t._f("formatCount")(a.playCount)))])]),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatDuration")(a.duration)))])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])])})),0)])])},n=[],e=(s("b0c0"),s("1676")),c={name:"mvIndex",components:{},props:{},data:function(){return{mvUrl:"",simiMV:[],hotComments:[],comments:[],limit:20,page:1,total:0,mvName:"",playCount:"",publishTime:"",desc:"",artistName:"",artistCover:"",id:0}},computed:{},watch:{id:function(){this.page=1,this.getInfo()}},created:function(){this.id=this.$route.params.id,this.getInfo()},mounted:function(){},methods:{handleCurrentChange:function(t){this.page=t,this.getComments()},getComments:function(){var t=this,a=this.$route.params.id;Object(e["b"])(a,this.limit,5*(this.page-1)).then((function(a){a.data.hotComments&&(t.hotComments=a.data.hotComments),t.comments=a.data.comments,t.total=a.data.total}))},getInfo:function(){var t=this;Object(e["d"])(this.id).then((function(a){t.mvUrl=a.data.data.url})),Object(e["e"])(this.id).then((function(a){t.simiMV=a.data.mvs})),this.getComments(),Object(e["c"])(this.id).then((function(a){t.mvName=a.data.data.name,t.playCount=a.data.data.playCount,t.publishTime=a.data.data.publishTime,t.desc=a.data.data.desc,Object(e["a"])(a.data.data.artistId).then((function(a){t.artistName=a.data.artist.name,t.artistCover=a.data.artist.picUrl}))}))},toMV:function(t){this.id=t}}},o=c,r=(s("678a"),s("2877")),m=Object(r["a"])(o,i,n,!1,null,"1453ffc4",null);a["default"]=m.exports},1676:function(t,a,s){"use strict";s.d(a,"d",(function(){return n})),s.d(a,"e",(function(){return e})),s.d(a,"b",(function(){return c})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return r}));var i=s("b775");function n(t){return Object(i["a"])({url:"/mv/url",method:"get",params:{id:t}})}function e(t){return Object(i["a"])({url:"/simi/mv",method:"get",params:{mvid:t}})}function c(t,a,s){return Object(i["a"])({url:"/comment/mv",method:"get",params:{id:t,limit:a,offset:s}})}function o(t){return Object(i["a"])({url:"/mv/detail",method:"get",params:{mvid:t}})}function r(t){return Object(i["a"])({url:"/artists",method:"get",params:{id:t}})}},"1eaa":function(t,a,s){},"678a":function(t,a,s){"use strict";s("1eaa")},b0c0:function(t,a,s){var i=s("83ab"),n=s("9bf2").f,e=Function.prototype,c=e.toString,o=/^\s*function ([^ (]*)/,r="name";i&&!(r in e)&&n(e,r,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(t){return""}}})}}]);