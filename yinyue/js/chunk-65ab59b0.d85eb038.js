(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65ab59b0"],{"05d0":function(t,a,s){"use strict";s("abd0")},"1e9a":function(t,a,s){"use strict";s.d(a,"c",(function(){return n})),s.d(a,"a",(function(){return i})),s.d(a,"b",(function(){return c}));var e=s("b775");function n(t){return Object(e["a"])({url:"/playlist/detail",method:"get",params:{id:t}})}function i(t){return Object(e["a"])({url:"/comment/hot",method:"get",params:{type:2,id:t}})}function c(t,a,s){return Object(e["a"])({url:"/comment/playlist",method:"get",params:{id:t,limit:a,offset:s}})}},9414:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"play-content"},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:t.coverImgUrl,alt:""}})]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"title"},[t._v(t._s(t.title))]),s("div",{staticClass:"author-wrap"},[s("img",{staticClass:"avatar",attrs:{src:t.avatarUrl,alt:""}}),s("span",{staticClass:"name"},[t._v(t._s(t.nickname))])]),s("div",{staticClass:"tag-wrap"},[s("span",{staticClass:"title"},[t._v("标签:")]),s("ul",t._l(t.tags,(function(a){return s("li",{key:a},[t._v(t._s(a))])})),0)]),s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"title"},[t._v("简介:")]),s("span",{staticClass:"desc"},[t._v(t._s(t.signature))])])])]),s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[s("table",{staticClass:"el-table playlit-table"},[s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.tableData,(function(a,e){return s("tr",{key:a.id,staticClass:"el-table__row song-table"},[s("td",[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"img-wrap",on:{click:function(s){return t.playMusic(a.id)}}},[s("img",{attrs:{src:a.al.picUrl,alt:""}}),s("span",{staticClass:"iconfont icon-play el-icon-video-play"})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),0!=a.mv?s("span",{staticClass:"iconfont icon-mv el-icon-view",on:{click:function(s){return t.toMV(a.mv)}}}):t._e()]),s("span",[t._v(t._s(a.subTitle))])])]),s("td",[t._v(t._s(a.ar[0].name))]),s("td",[t._v(" "+t._s(a.al.name)+" ")]),s("td",[t._v(t._s(t._f("formatDuration")(a.dt)))])])})),0)])]),s("el-tab-pane",{attrs:{label:"评论("+(t.total+t.hotComments.length)+")",name:"2"}},[0!=t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 热门评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),t._l(t.hotComments,(function(a){return s("div",{key:a.commentId,staticClass:"comments-wrap"},[s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(a.time)))])])])])}))],2):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),0!=t.comments.length?s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a){return s("div",{key:a.commentId,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0):t._e()]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.limit},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},n=[],i=(s("b0c0"),s("96cf"),s("1da1")),c=s("1e9a"),r=s("3191"),l=s("d8ad"),o={name:"PlayIndex",components:{},props:{},data:function(){return{activeIndex:"1",tableData:[],title:"",avatarUrl:"",coverImgUrl:"",signature:"",nickname:"",tags:[],hotComments:[],comments:[],limit:10,page:1,total:0}},computed:{},watch:{},created:function(){var t=this,a=this.$route.params.id;Object(c["c"])(a).then((function(a){t.tableData=a.data.playlist.tracks,t.title=a.data.playlist.name,t.avatarUrl=a.data.playlist.creator.avatarUrl,t.coverImgUrl=a.data.playlist.coverImgUrl,t.signature=a.data.playlist.creator.signature,t.nickname=a.data.playlist.creator.nickname,t.tags=a.data.playlist.tags})),Object(c["a"])(a).then((function(a){t.hotComments=a.data.hotComments})),this.getComments()},mounted:function(){},methods:{toMV:function(t){this.$router.push({name:"mv",params:{id:t}})},getComments:function(){var t=this,a=this.$route.params.id;Object(c["b"])(a,this.limit,(this.page-1)*this.limit).then((function(a){t.total=a.data.total,t.comments=a.data.comments}))},handleCurrentChange:function(t){this.page=t,this.getComments()},playMusic:function(t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["a"])(t);case 2:return s=a.sent,a.next=5,Object(r["e"])(t);case 5:e=a.sent,l["a"].$emit("songurl",e.data.data[0].url,s.data.lrc.lyric);case 7:case"end":return a.stop()}}),a)})))()}}},m=o,u=(s("05d0"),s("2877")),d=Object(u["a"])(m,e,n,!1,null,"3843a417",null);a["default"]=d.exports},abd0:function(t,a,s){},b0c0:function(t,a,s){var e=s("83ab"),n=s("9bf2").f,i=Function.prototype,c=i.toString,r=/^\s*function ([^ (]*)/,l="name";e&&!(l in i)&&n(i,l,{configurable:!0,get:function(){try{return c.call(this).match(r)[1]}catch(t){return""}}})}}]);