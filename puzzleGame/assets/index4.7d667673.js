import{aa as F,d as k,ah as C,ai as S,r as w,o as B,ao as y,W as $,ac as v,af as o,ak as E,R as D,al as T,S as z,ab as g,ap as N,ar as O,ad as P,ae as q}from"./index.a8e2014a.js";const M=k({setup(){const s=C(),u=S(),e=w({dealtime:180,boxArractivelass:-1,boxArr:new Array(16).fill(1).map((t,r)=>r),pool:[],timer:null,wall:0,prevEl:null,selectedImg:""});B(()=>{e.selectedImg=u.state.selectedImg,e.dealtime=u.state.playTime,e.pool=b(4,22,16),p(document.querySelectorAll(".piece"),e.pool),e.timer=setInterval(I,1e3)});const h=(t,r)=>{e.boxArractivelass=r;let a=document.querySelectorAll(".piece");if(e.wall){e.wall=0;const i=+e.prevEl.getAttribute("index"),d=+t.target.getAttribute("index");l(e.pool,i,d),e.prevEl.style.transform=`translate(${e.pool[i].x}vw, ${e.pool[i].y}vh)`,t.target.style.transform=`translate(${e.pool[d].x}vw, ${e.pool[d].y}vh)`,e.boxArractivelass=-1,f(e.pool)&&(clearInterval(e.timer),y.success("\u6311\u6218\u6210\u529F\uFF01"),setTimeout(()=>{s.push({name:"result"})},1500))}else{e.wall=1,e.prevEl=t.target;for(var n=0,c=a.length;n<c;n++)a[n].className=a[n].className.replace(" active","")}},f=t=>t.every(function(r,a){return r.index===a}),p=(t,r)=>{m(r);for(var a=0,n=t.length;a<n;a++){var c=t[a];c.setAttribute("index",a),c.style.transform=`translate(${r[a].x}vw, ${r[a].y}vh)`}},l=(t,r,a)=>{[t[r],t[a]]=[t[a],t[r]]},m=t=>t.sort(function(){return Math.random()>.5?-1:1}),I=()=>{e.dealtime--,e.dealtime<1&&(clearInterval(e.timer),s.push({name:"result"}),y.error("\u6311\u6218\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u5F00\u59CB")),u.commit("setPlayTime",e.dealtime)},b=(t,r,a)=>{const n=[];let c=0;for(var i=0;i<t;i++)for(var d=0;d<t;d++)n.push({x:d*r,y:i*a,index:c}),c++;return n},x=()=>{p(document.querySelectorAll(".piece"),e.pool)},A=()=>{clearInterval(e.timer),setTimeout(()=>{s.push({name:"home"})},500)};return{...$(e),changePositon:h,reOrder:x,goBack:A}}}),_=s=>(P("data-v-1d6baab5"),s=s(),q(),s),R={class:"game fadeInUp animated"},V={class:"deloy"},L=z("\u5012\u8BA1\u65F6\uFF1A"),U={class:"play-area"},W=["index","onClick"],G=_(()=>o("div",{class:"original"},"\u91CD\u65B0\u6392\u5E8F",-1)),H=_(()=>o("div",{class:"letters"},[o("span",null,"\u91CD"),o("span",null,"\u65B0"),o("span",null,"\u6392"),o("span",null,"\u5E8F")],-1)),J=[G,H],K=["src"],Q=_(()=>o("span",null,"\u8FD4\u56DE",-1)),X=[Q];function Y(s,u,e,h,f,p){return g(),v("div",R,[o("div",V,[L,o("span",null,E(s.dealtime),1)]),o("div",U,[(g(!0),v(D,null,T(s.boxArr,l=>(g(),v("div",{index:l,key:l,class:N(["piece","piece-"+l,l==s.boxArractivelass?"active":""]),style:O({backgroundImage:"url("+s.selectedImg+")"}),onClick:m=>s.changePositon(m,l)},null,14,W))),128))]),o("div",{class:"reOrder btn-53",onClick:u[0]||(u[0]=(...l)=>s.reOrder&&s.reOrder(...l))},J),o("img",{class:"promptImg",src:s.selectedImg},null,8,K),o("div",{class:"share btn-16",onClick:u[1]||(u[1]=(...l)=>s.goBack&&s.goBack(...l))},X)])}var j=F(M,[["render",Y],["__scopeId","data-v-1d6baab5"],["__file","C:/chenProject/mine/puzzle-game/src/views/game/index4.vue"]]);export{j as default};
